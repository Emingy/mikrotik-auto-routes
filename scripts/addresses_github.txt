:local addresses {
  "4.237.22.0/24";
  "20.26.156.0/24";
  "20.205.243.0/24";
  "20.201.28.0/24";
  "20.207.73.0/24";
  "140.82.112.0/20";
  "140.82.112.0/24";
  "140.82.113.0/24";
  "140.82.114.0/24";
  "140.82.115.0/24";
  "140.82.116.0/24";
  "140.82.117.0/24";
  "140.82.120.0/23";
  "140.82.120.0/24";
  "140.82.121.0/24";
  "140.82.122.0/24";
  "140.82.123.0/24";
  "140.82.124.0/24";
  "140.82.125.0/24";
  "140.82.126.0/24";
  "143.55.64.0/20";
  "143.55.64.0/24";
  "143.55.65.0/24";
  "192.30.252.0/22";
  "192.30.252.0/23";
  "192.30.252.0/24";
  "192.30.253.0/24";
  "192.30.254.0/23";
  "192.30.254.0/24";
  "192.30.255.0/24"
}
:local comment "github"
:local list "mark_list"


:foreach addr in=$addresses do={
    :do {
        /ip firewall address-list remove [find address=$addr]

        /ip firewall address-list add address=$addr list=$list comment=$comment
    } on-error={
        :log warning "error on add $comment address $addr"
    }
}
