:local addresses {
  "103.224.0.0/16";
  "104.16.0.0/16";
  "104.17.0.0/16";
  "104.18.0.0/16";
  "104.21.0.0/16";
  "104.22.0.0/16";
  "104.24.0.0/16";
  "104.26.0.0/16";
  "13.227.0.0/16";
  "138.128.0.0/16";
  "143.204.0.0/16";
  "162.159.0.0/16";
  "162.210.0.0/16";
  "172.64.0.0/16";
  "172.65.0.0/16";
  "172.66.0.0/16";
  "172.67.0.0/16";
  "18.165.0.0/16";
  "185.107.0.0/16";
  "188.114.0.0/16";
  "192.157.0.0/16";
  "204.11.0.0/16";
  "23.227.0.0/16";
  "34.0.0.0/16";
  "34.1.0.0/16";
  "34.126.0.0/16";
  "35.207.0.0/16";
  "35.212.0.0/16";
  "35.213.0.0/16";
  "35.214.0.0/16";
  "35.215.0.0/16";
  "35.217.0.0/16";
  "35.219.0.0/16";
  "37.1.0.0/16";
  "37.48.0.0/16";
  "45.134.0.0/16";
  "66.22.0.0/16";
  "3.128.0.0/9";
  "5.200.14.128/25";
  "13.24.0.0/13";
  "13.32.0.0/12";
  "13.48.0.0/13";
  "13.56.0.0/14";
  "13.224.0.0/12";
  "18.32.0.0/11";
  "18.64.0.0/10";
  "18.128.0.0/9";
  "23.227.32.0/19";
  "34.0.0.0/15";
  "34.2.0.0/16";
  "34.3.0.0/23";
  "34.3.2.0/24";
  "35.192.0.0/12";
  "35.208.0.0/12";
  "35.224.0.0/12";
  "35.240.0.0/13";
  "52.84.0.0/14";
  "52.222.0.0/16";
  "65.8.0.0/14";
  "66.22.192.0/18";
  "69.162.64.0/18";
  "104.16.0.0/12";
  "108.136.0.0/14";
  "108.156.0.0/14";
  "138.128.136.0/21";
  "143.204.0.0/16";
  "162.158.0.0/15";
  "172.64.0.0/13";
  "188.114.96.0/22";
  "204.11.56.0/23";
  "216.137.32.0/19"
}
:local comment "discord"
:local list "mark_list"


:foreach addr in=$addresses do={
    :do {
        /ip firewall address-list remove [find address=$addr]

        /ip firewall address-list add address=$addr list=$list comment=$comment
    } on-error={
        :log warning "error on add $comment address $addr"
    }
}

